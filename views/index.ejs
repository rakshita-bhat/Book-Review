<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>
    Book Review
  </title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="/styles/main.css">
</head>

<body>

  <div class="container">

    <!-- Header -->
    <div class="page-intro">
      <h1 class="site-title">BOOK REVIEW</h1>

      <p class="site-subtitle">
        My personal collection of books and honest reviews.
      </p>

      <a href="/add" class="btn btn-success mt-3">
        + Add Book
      </a>
    </div>


    <hr class="divider">

    <!-- Book Grid -->
    <div class="row">

      <% books.forEach(book=> { %>

        <div class="col-md-6 mb-5">
          <div class="book-item d-flex h-100">

            <!-- Cover -->
            <div class="book-cover me-4">
              <img src="<%= book.coverUrl %>" alt="<%= book.title %>" onerror="this.src='assets/image/cover.png'">
            </div>

            <!-- Details -->
            <div class="book-details flex-grow-1">

              <h3 class="book-title"> 
                <%= book.title %>
              </h3>
              <p class="book-author">
                Author: <%= book.author %>
              </p>

              <p class="book-meta">
                <strong>Read on:</strong>
                <%= new Date(book.read_date).toDateString() %>
              </p>

              <p class="book-meta">
                <strong>Rating:</strong>
                <%= book.rating %>/10
              </p>
              <div class="action-buttons">

                <a href="/edit/<%= book.id %>" class="btn btn-outline-primary btn-sm">
                  Edit
                </a>

                <form action="/delete/<%= book.id %>" method="POST"
                  onsubmit="return confirm('Are you sure you want to delete this book?');">
                  <button class="btn btn-outline-danger btn-sm">
                    Delete
                  </button>
                </form>


              </div>

            </div>
          </div>
        </div>

        <% }) %>

    </div>

  </div>



</body>

</html>